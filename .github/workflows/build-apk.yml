name: Build Companion APK

on:
  push:
    workflow_dispatch:

    jobs:
      build:
          runs-on: ubuntu-latest

          steps:
            - name: Checkout repo
              uses: actions/checkout@v4

            - name: Setup Java
              uses: actions/setup-java@v4
              with:
              distribution: temurin
              java-version: 17

            - name: Grant Gradle permission
              run: chmod +x gradlew

            - name: Build debug APK
              run: ./gradlew assembleDebug

            - name: Upload APK
              uses: actions/upload-artifact@v4
              with:
                name: KSU-Companion-APK
                path: app/build/outputs/apk/debug/*.apk